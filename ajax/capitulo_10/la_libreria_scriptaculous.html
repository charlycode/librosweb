<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>10.2. La librería scriptaculous (Introducción a AJAX)</title>
        <link href="../../css/main-fa23fb7.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-82842-2']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        <link rel="apple-touch-icon" type="image/png" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon-precomposed" type="image/png" href="../../apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="LibrosWeb" />

        <link rel="shortcut icon" type="image/png" href="../../favicon.png" />
        <meta name="site:version" content="fa23fb7" />
        <link rel="author" href="https://plus.google.com/u/0/107307901774377088868" />
        <link rel="prev" href="el_framework_prototype.html" />
        <link rel="next" href="la_libreria_jquery.html" />
        <link rel="start" href="../index.html" />
        <meta name="twitter:site" content="@librosweb" />
        <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="Libros y tutoriales de LibrosWeb.es" />
        <meta property="fb:page_id" content="437758756273955" />
        <meta property="fb:app_id" content="437758756273955" />
        <meta property="og:type" content="website" />
        <meta property="og:title" content="10.2. La librería scriptaculous (Introducción a AJAX)" />
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200" />
        <meta name="msapplication-TileColor" content="#CC1414" />
        <meta name="application-name" content="LibrosWeb" />
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web." />
    </head>
    <body class="book_page ajax">
    <div id="container" class="container">
        <div id="header">
            <h1><a href="../../index.html" title="LibrosWeb.es">LibrosWeb</a></h1>
            <form action="/buscar"><input type="text" placeholder="buscar..." name="q"/></form>
        </div>
        <div id="content"><div class="row">
        <ul class="breadcrumbs span12">
  <li><a href="../../index.html">Inicio</a></li>
  <li><a href="../index.html">Introducción a AJAX</a></li>
  <li><a href="../capitulo_10.html">Capítulo 10. Frameworks y librerías</a></li>
  <li class="current"><span>10.2. La librería scriptaculous</span></li>
</ul>

<div class="span9">
    <h1 id="la_libreria_scriptaculous"><span>10.2.</span> La librería scriptaculous</h1>
    

<p><a href="http://script.aculo.us/">Script.aculo.us</a> es una de las muchas librerías que han surgido para facilitar el desarrollo de aplicaciones JavaScript y que están basadas en Prototype. El autor original de la librería es <strong>Thomas Fuchs</strong>, aunque actualmente recibe contribuciones de numerosos programadores, ya que la librería se distribuye de forma completamente gratuita y dispone de una buena documentación: http://wiki.script.aculo.us/scriptaculous/</p>

<p>La librería está dividida en varios módulos:</p>

<ul>
<li>Efectos: permite añadir de forma muy sencilla efectos especiales a cualquier elemento de la página. La librería incluye una serie de efectos básicos y otros efectos complejos construidos con la combinación de esos efectos básicos. Entre los efectos prediseñados se encuentran el parpadeo, movimiento rápido, aparecer/desaparecer, aumentar/disminuir de tamaño, desplegarse, etc.</li>
<li>Controles: define varios <em>controles</em> que se pueden añadir directamente a cualquier aplicación web. Los tres controles que forman este módulo son: "arrastrar y soltar", que permite definir los elementos que se pueden arrastrar y las zonas en las que se pueden soltar elementos; "autocompletar", que permite definir un cuadro de texto en el que los valores que se escriben se autocompletan con ayuda del servidor; editor de contenidos, que permite modificar los contenidos de cualquier página web añadiendo un sencillo editor AJAX en cada elemento.</li>
<li>Utilidades: la utilidad principal que incluye se llama <code>builder</code>, que se utiliza para crear fácilmente nodos y fragmentos complejos de DOM.</li>
</ul>

<p>La documentación de script.aculo.us es muy completa e incluye muchos ejemplos, por lo que a continuación sólo se muestra el uso de uno de sus componentes más populares. En uno de los ejercicios anteriores, se realizaba un ejemplo de autocompletar el texto introducido por el usuario. El código completo del ejercicio ocupa más de 140 líneas.</p>

<p>El siguiente código hace uso de script.aculo.us para conseguir el mismo resultado con un 90% menos de líneas de código:</p>

<div class="code javascript">
<pre class="javascript">window.<span class="me1">onload</span> <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="co1">// Crear elemento de tipo &lt;div&gt; para mostrar las sugerencias del servidor</span>
  <span class="kw1">var</span> elDiv <span class="sy0">=</span> Builder.<span class="me1">node</span><span class="br0">&#40;</span><span class="st0">'div'</span><span class="sy0">,</span> <span class="br0">&#123;</span>id<span class="sy0">:</span><span class="st0">'sugerencias'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
  document.<span class="me1">body</span>.<span class="me1">appendChild</span><span class="br0">&#40;</span>elDiv<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
  <span class="kw1">new</span> Ajax.<span class="me1">Autocompleter</span><span class="br0">&#40;</span><span class="st0">'municipio'</span><span class="sy0">,</span> <span class="st0">'sugerencias'</span><span class="sy0">,</span>
    <span class="st0">'http://localhost/autocompletaMunicipios.php?modo=ul'</span><span class="sy0">,</span>
    <span class="br0">&#123;</span>paramName<span class="sy0">:</span> <span class="st0">'municipio'</span><span class="br0">&#125;</span>
  <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</div>

<p>La sintaxis del control <code>Ajax.Autocompleter()</code> es la siguiente:</p>

<div class="code javascript">
<pre class="javascript"><span class="kw1">new</span> Ajax.<span class="me1">Autocompleter</span><span class="br0">&#40;</span>idCuadroTexto<span class="sy0">,</span> idDivResultados<span class="sy0">,</span> url<span class="sy0">,</span> opciones<span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>El primer parámetro (<code>idCuadroTexto</code>) es el identificador del cuadro de texto en el que el usuario escribe las letras que se van a autocompletar. El segundo parámetro (<code>idDivResultados</code>) indica el identificador del elemento <code>&lt;div&gt;</code> en el que se va a mostrar la respuesta del servidor. En el ejemplo anterior, este <code>&lt;div&gt;</code> se crea dinámicamente cuando se carga la página. El tercer parámetro (<code>url</code>) indica la URL del script de servidor que recibe las letras escritas por el usuario y devuelve la lista de sugerencias que se muestran. El último parámetro (<code>opciones</code>) permite modificar algunas de las opciones por defecto de este control.</p>

<p>A continuación se muestran las opciones más importantes disponibles para el control de autocompletar:</p>

<div class="table" id="table_10_5">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>paramName</code></td>
  <td>El nombre del parámetro que se envía al servidor con el texto escrito por el usuario. Por defecto es igual que el atributo <code>name</code> del cuadro de texto utilizado para autocompletar</td>
</tr>
<tr>
  <td><code>tokens</code></td>
  <td>Permite autocompletar más de un valor en un mismo cuadro de texto. Más adelante se explica con un ejemplo.</td>
</tr>
<tr>
  <td><code>minChars</code></td>
  <td>Número mínimo de caracteres que el usuario debe escribir antes de que se realice la petición al servidor. Por defecto es igual a <code>1</code> carácter.</td>
</tr>
<tr>
  <td><code>indicator</code></td>
  <td>Elemento que se muestra mientras se realiza la petición al servidor y que se vuelve a ocultar al recibir la respuesta del servidor. Normalmente es una imagen animada que se utiliza para indicar al usuario que en ese momento se está realizando una petición al servidor</td>
</tr>
<tr>
  <td><code>updateElement</code></td>
  <td>Función que se ejecuta después de que el usuario seleccione un elemento de la lista de sugerencias. Por defecto el comportamiento consiste en seleccionar el elemento, mostrarlo en el cuadro de texto y ocultar la lista de sugerencias. Si se indica una función propia, no se ejecuta este comportamiento por defecto.</td>
</tr>
<tr>
  <td><code>afterUpdateElement</code></td>
  <td>Similar a la opción <code>updateElement</code>. En este caso, la función indicada se ejecuta después de la función por defecto y no en sustitución de esa función por defecto.</td>
</tr>
</tbody>
</table>
</div>


<p>La opción <code>tokens</code> permite indicar los caracteres que separan los diferentes elementos de un cuadro de texto. En el siguiente ejemplo:</p>

<div class="code javascript">
<pre class="javascript"><span class="kw1">new</span> Ajax.<span class="me1">Autocompleter</span><span class="br0">&#40;</span><span class="st0">'municipio'</span><span class="sy0">,</span> <span class="st0">'sugerencias'</span><span class="sy0">,</span>
  <span class="st0">'http://localhost/autocompletaMunicipios.php?modo=ul'</span><span class="sy0">,</span>
  <span class="br0">&#123;</span> paramName<span class="sy0">:</span> <span class="st0">'municipio'</span><span class="sy0">,</span> tokens<span class="sy0">:</span> <span class="st0">','</span> <span class="br0">&#125;</span>
<span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>La opción <code>tokens</code> indica que el carácter <code>","</code> separa los diferentes elementos dentro de un mismo cuadro de texto. De esta forma, si después de autocompletar una palabra se escribe un carácter <code>","</code> el script autocompletará la siguiente palabra.</p>



    <div class="navigation row">
            <a class="span4 prev" href="el_framework_prototype.html">&larr; Anterior <span>10.1. El framework Prototype</span></a>
            
            <a class="span5 next" href="la_libreria_jquery.html">Siguiente &rarr; <span>10.3. La librería jQuery</span></a>
        </div>
</div>

<div class="span3 side">
<h3 class="underline"><span>Compartir</span></h3>
<ul class="share">
    <li><a class="twitter" id="share_twitter" href="#" title="Compartir este artículo en Twitter">tw</a></li>
    <li><a class="facebook" id="share_facebook" href="#" title="Compartir este artículo en Facebook">fb</a></li>
    <li><a class="google" id="share_google" href="#" title="Compartir este artículo en Google+">g+</a></li>
</ul>

<script type="text/javascript">
var title    = 'La librería scriptaculous (Introducción a AJAX%29';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es&hashtags=librosweb',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) { // don't use services.keys() for compatibility reasons
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;
            _gaq.push(['_trackEvent', 'share', a.id.substr(6), 'Introducción a AJAX : La librería scriptaculous']);
            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

<h3 class="underline"><span>Indice de contenidos</span></h3>
<ul class="toc">
    <li class="level-1">
        <span>1</span> <a href="../capitulo_1.html"> Introducción a AJAX</a>
    </li>
    <li class="level-1">
        <span>2</span> <a href="../capitulo_2.html"> JavaScript básico</a>
    </li>
    <li class="level-1">
        <span>3</span> <a href="../capitulo_3.html"> JavaScript avanzado</a>
    </li>
    <li class="level-1">
        <span>4</span> <a href="../capitulo_4.html"> DOM (Document Object Model)</a>
    </li>
    <li class="level-1">
        <span>5</span> <a href="../capitulo_5.html"> BOM (Browser Object Model)</a>
    </li>
    <li class="level-1">
        <span>6</span> <a href="../capitulo_6.html"> Eventos</a>
    </li>
    <li class="level-1">
        <span>7</span> <a href="../capitulo_7.html"> Primeros pasos con AJAX</a>
    </li>
    <li class="level-1">
        <span>8</span> <a href="../capitulo_8.html"> Técnicas básicas con AJAX</a>
    </li>
    <li class="level-1">
        <span>9</span> <a href="../capitulo_9.html"> Técnicas avanzadas con AJAX</a>
    </li>
    <li class="level-1 ">
        <a href="../capitulo_10.html">
            <span>Capítulo 10.</span> Frameworks y librerías
        </a>
    </li>
    <li class="level-2 ">
        <a href="el_framework_prototype.html">
            <span>10.1.</span> El framework Prototype
        </a>
    </li>
    <li class="level-2 active">
        <a href="la_libreria_scriptaculous.html">
            <span>10.2.</span> La librería scriptaculous
        </a>
    </li>
    <li class="level-2 ">
        <a href="la_libreria_jquery.html">
            <span>10.3.</span> La librería jQuery
        </a>
    </li>
    <li class="level-2 ">
        <a href="otros_frameworks_importantes.html">
            <span>10.4.</span> Otros frameworks importantes
        </a>
    </li>
    <li class="level-1">
        <span>11</span> <a href="../capitulo_11.html"> Otras utilidades</a>
    </li>
    <li class="level-1">
        <span>12</span> <a href="../capitulo_12.html"> Recursos útiles</a>
    </li>
    <li class="level-1">
        <span>13</span> <a href="../capitulo_13.html"> Bibliografía</a>
    </li>
    <li class="level-1">
        <span>14</span> <a href="../capitulo_14.html"> Ejercicios resueltos</a>
    </li>
</ul>
</div>
        </div></div>
        <div id="footer" class="row">
            <span class="span6">&copy; 2013 LibrosWeb.es 
            <a href="../../contacto/index.html">Contacto</a></span>
            <span class="span6 version">2.340 días online</span>
        </div>
    </div>
    </body>
</html>

<!-- Localized -->