<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>12.4. Widgets para elecciones (Los formularios de Symfony 1.4)</title>
        <link href="../../css/main-fa23fb7.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-82842-2']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        <link rel="apple-touch-icon" type="image/png" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon-precomposed" type="image/png" href="../../apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="LibrosWeb" />

        <link rel="shortcut icon" type="image/png" href="../../favicon.png" />
        <meta name="site:version" content="fa23fb7" />
        <link rel="author" href="https://plus.google.com/u/0/107307901774377088868" />
        <link rel="prev" href="widgets_de_tipo_input.html" />
        <link rel="next" href="widgets_para_fechas.html" />
        <link rel="start" href="../index.html" />
        <meta name="twitter:site" content="@librosweb" />
        <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="Libros y tutoriales de LibrosWeb.es" />
        <meta property="fb:page_id" content="437758756273955" />
        <meta property="fb:app_id" content="437758756273955" />
        <meta property="og:type" content="website" />
        <meta property="og:title" content="12.4. Widgets para elecciones (Los formularios de Symfony 1.4)" />
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200" />
        <meta name="msapplication-TileColor" content="#CC1414" />
        <meta name="application-name" content="LibrosWeb" />
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web." />
    </head>
    <body class="book_page symfony_formularios">
    <div id="container" class="container">
        <div id="header">
            <h1><a href="../../index.html" title="LibrosWeb.es">LibrosWeb</a></h1>
            <form action="/buscar"><input type="text" placeholder="buscar..." name="q"/></form>
        </div>
        <div id="content"><div class="row">
        <ul class="breadcrumbs span12">
  <li><a href="../../index.html">Inicio</a></li>
  <li><a href="../index.html">Los formularios de Symfony 1.4</a></li>
  <li><a href="../capitulo_12.html">Capítulo 12. Referencia de Widgets</a></li>
  <li class="current"><span>12.4.. Widgets para elecciones</span></li>
</ul>

<div class="span9">
    <h1 id="widgets_para_elecciones"><span>12.4.</span> Widgets para elecciones</h1>
    

<h3 id="tipos_de_elecciones">12.4.1. Tipos de elecciones</h3>

<p>Cuando el usuario debe elegir un valor entre una lista de posibilidades, HTML ofrece diferentes formas de representar esa elección:</p>

<ul>
<li>Una etiqueta <code>&lt;select&gt;</code>:</li>
</ul>

<div class="figure" id="figure_12_1">
    <img src="../../img/symfony_formularios/f1201.png" alt="Lista desplegable simple" />

    <p class="caption"><strong>Figura 12.1</strong> Lista desplegable simple</p>
</div>


<ul>
<li>Una etiqueta <code>&lt;select&gt;</code> con el atributo <code>multiple</code>:</li>
</ul>

<div class="figure" id="figure_12_2">
    <img src="../../img/symfony_formularios/f1202.png" alt="Lista desplegable que permite seleccionar varias opciones" />

    <p class="caption"><strong>Figura 12.2</strong> Lista desplegable que permite seleccionar varias opciones</p>
</div>


<ul>
<li>Una lista de etiquetas <code>&lt;input&gt;</code> con el atributo <code>type</code> igual a <code>radio</code>:</li>
</ul>

<div class="figure" id="figure_12_3">
    <img src="../../img/symfony_formularios/f1203.png" alt="Grupo de radio buttons" />

    <p class="caption"><strong>Figura 12.3</strong> Grupo de radio buttons</p>
</div>


<ul>
<li>Una lista de etiquetas <code>&lt;input&gt;</code> con el atributo <code>type</code> igual a <code>checkbox</code>:</li>
</ul>

<div class="figure" id="figure_12_4">
    <img src="../../img/symfony_formularios/f1204.png" alt="Grupo de checkboxes" />

    <p class="caption"><strong>Figura 12.4</strong> Grupo de checkboxes</p>
</div>


<p>A pesar de sus diferencias, todas ellas permiten al usuario seleccionar una o varias opciones entre una lista finita de posibilidades.</p>

<p>El widget <code>sfWidgetFormChoice</code> estandariza y agrupa todas estas variantes en un único widget. De esta forma, la misma elección se puede mostrar de cualquiera de las cuatro formas mostradas anteriormente. Como se verá más adelante, también es posible definir una representación propia para la elección.</p>

<p><code>sfWidgetFormChoice</code> es un widget especial porque delega la responsabilidad de mostrar sus contenidos a otro widget. La representación visual del widget se controla mediante las opciones <code>expanded</code> y <code>multiple</code>:</p>

<div class="table" id="table_12_5">

    <table>
<thead>
<tr>
  <th>Valor de <code>expanded</code></th>
  <th>Valor de <code>multiple</code></th>
  <th>Widget utilizado</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>true</code></td>
  <td><code>true</code></td>
  <td><code>sfWidgetFormSelectCheckbox</code></td>
</tr>
<tr>
  <td><code>true</code></td>
  <td><code>false</code></td>
  <td><code>sfWidgetFormSelectRadio</code></td>
</tr>
<tr>
  <td><code>false</code></td>
  <td><code>true</code></td>
  <td><code>sfWidgetFormSelectMany</code></td>
</tr>
<tr>
  <td><code>false</code></td>
  <td><code>false</code></td>
  <td><code>sfWidgetFormSelect</code></td>
</tr>
</tbody>
</table>
</div>


<div class="admonition note"><p><strong class="title">Nota</strong> Los widgets <code>sfWidgetFormSelect</code>, <code>sfWidgetFormSelectMany</code>, <code>sfWidgetFormSelectCheckbox</code> y <code>sfWidgetFormSelectRadio</code> que utiliza el widget <code>sfWidgetFormChoice</code> para mostrarse son widgets normales que también se pueden utilizar de forma individual. En esta sección no se documenta el uso de cada uno de estos widgets porque casi siempre es mejor utilizar el widget <code>sfWidgetFormChoice</code>, que es mucho más flexible.</p></div>

<p>A continuación se muestra la representación HTML de cada widget:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'Fabien Potencier'</span><span class="sy0">,</span> <span class="st_h">'Fabian Lange'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_5">
    <img src="../../img/symfony_formularios/f1201.png" alt="Lista desplegable simple" />

    <p class="caption"><strong>Figura 12.5</strong> Lista desplegable simple</p>
</div>


<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'multiple'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'PHP'</span><span class="sy0">,</span> <span class="st_h">'symfony'</span><span class="sy0">,</span> <span class="st_h">'Doctrine'</span><span class="sy0">,</span> <span class="st_h">'Propel'</span><span class="sy0">,</span> <span class="st_h">'model'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_6">
    <img src="../../img/symfony_formularios/f1202.png" alt="Lista desplegable que permite seleccionar varias opciones" />

    <p class="caption"><strong>Figura 12.6</strong> Lista desplegable que permite seleccionar varias opciones</p>
</div>


<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'expanded'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'published'</span><span class="sy0">,</span> <span class="st_h">'draft'</span><span class="sy0">,</span> <span class="st_h">'deleted'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_7">
    <img src="../../img/symfony_formularios/f1203.png" alt="Grupo de radio buttons" />

    <p class="caption"><strong>Figura 12.7</strong> Grupo de radio buttons</p>
</div>


<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'expanded'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'multiple'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'A week of symfony'</span><span class="sy0">,</span> <span class="st_h">'Call the expert'</span><span class="sy0">,</span> <span class="st_h">'Community'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_8">
    <img src="../../img/symfony_formularios/f1204.png" alt="Grupo de checkboxes" />

    <p class="caption"><strong>Figura 12.8</strong> Grupo de checkboxes</p>
</div>


<h3 id="agrupacion_de_opciones">12.4.2. Agrupación de opciones</h3>

<p>El widget <code>sfWidgetFormChoice</code> también soporta la agrupación de opciones cuando se pasa un array de arrays como valor de la opción <code>choices</code>:</p>

<div class="code php">
<pre class="php"><span class="re0">$choices</span> <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'Europe'</span>  <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'France'</span> <span class="sy0">=&gt;</span> <span class="st_h">'France'</span><span class="sy0">,</span> <span class="st_h">'Spain'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Spain'</span><span class="sy0">,</span> <span class="st_h">'Italy'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Italy'</span><span class="br0">&#41;</span><span class="sy0">,</span>
  <span class="st_h">'America'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'USA'</span> <span class="sy0">=&gt;</span> <span class="st_h">'USA'</span><span class="sy0">,</span> <span class="st_h">'Canada'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Canada'</span><span class="sy0">,</span> <span class="st_h">'Brazil'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Brazil'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'choices'</span> <span class="sy0">=&gt;</span> <span class="re0">$choices</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_9">
    <img src="../../img/symfony_formularios/f1205.png" alt="Agrupación de opciones" />

    <p class="caption"><strong>Figura 12.9</strong> Agrupación de opciones</p>
</div>


<p>Las opciones <code>expanded</code> y <code>multiple</code> siguen funcionando como antes:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="re0">$choices</span><span class="sy0">,</span>
  <span class="st_h">'expanded'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_10">
    <img src="../../img/symfony_formularios/f1206.png" alt="Agrupación de opciones expandidas" />

    <p class="caption"><strong>Figura 12.10</strong> Agrupación de opciones expandidas</p>
</div>


<p>La plantilla utilizada para mostrar el widget también se puede personalizar:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="re0">$choices</span><span class="sy0">,</span>
  <span class="st_h">'expanded'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'renderer_options'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'template'</span> <span class="sy0">=&gt;</span> <span class="st_h">'&lt;strong&gt;%group%&lt;/strong&gt; %options%'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_11">
    <img src="../../img/symfony_formularios/f1207.png" alt="Agrupación de opciones expandidas y con formato personalizado" />

    <p class="caption"><strong>Figura 12.11</strong> Agrupación de opciones expandidas y con formato personalizado</p>
</div>


<p>A continuación se muestran otros ejemplos de combinaciones de opciones:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="re0">$choices</span><span class="sy0">,</span>
  <span class="st_h">'multiple'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_12">
    <img src="../../img/symfony_formularios/f1208.png" alt="Agrupación de opciones con selección múltiple" />

    <p class="caption"><strong>Figura 12.12</strong> Agrupación de opciones con selección múltiple</p>
</div>


<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>  <span class="sy0">=&gt;</span> <span class="re0">$choices</span><span class="sy0">,</span>
  <span class="st_h">'multiple'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'expanded'</span> <span class="sy0">=&gt;</span> <span class="kw4">true</span><span class="sy0">,</span>
  <span class="st_h">'renderer_options'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'template'</span> <span class="sy0">=&gt;</span> <span class="st_h">'&lt;strong&gt;%group%&lt;/strong&gt; %options%'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_13">
    <img src="../../img/symfony_formularios/f1209.png" alt="Agrupación de opciones expandida y con selección múltiple" />

    <p class="caption"><strong>Figura 12.13</strong> Agrupación de opciones expandida y con selección múltiple</p>
</div>


<div class="admonition note"><p><strong class="title">Nota</strong> Cuando el widget se muestra con una etiqueta <code>&lt;select&gt;</code> simple, se utiliza la etiqueta <code>&lt;optgroup&gt;</code> estándar.</p></div>

<h3 id="opciones_soportadas">12.4.3. Opciones soportadas</h3>

<p>La siguiente tabla muestra todas las opciones soportadas por el widget:</p>

<div class="table" id="table_12_6">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>choices</code></td>
  <td>Array con los valores de las opciones (obligatorio)</td>
</tr>
<tr>
  <td><code>multiple</code></td>
  <td><code>true</code> si la etiqueta <code>&lt;select&gt;</code> permite selecciones múltiples</td>
</tr>
<tr>
  <td><code>expanded</code></td>
  <td><code>true</code> para mostrar el widget de forma expandida</td>
</tr>
<tr>
  <td><code>renderer_class</code></td>
  <td>La clase que se utiliza en vez de la clase por defecto</td>
</tr>
<tr>
  <td><code>renderer_options</code></td>
  <td>Las opciones que se pasan a la clase que muestra el widget</td>
</tr>
<tr>
  <td><code>renderer</code></td>
  <td>El widget utilizado para mostrar las opciones (si se utiliza esta opción, se ignoran las opciones <code>expanded</code> y <code>renderer_options</code>)&#92; La opción <code>choices</code> será: <code>new sfCallable($thisWidgetInstance, 'getChoices')</code></td>
</tr>
</tbody>
</table>
</div>


<p>Los widgets <code>sfWidgetFormSelectCheckbox</code> y <code>sfWidgetFormSelectRadio</code> soportan las siguientes opciones:</p>

<div class="table" id="table_12_7">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>label_separator</code></td>
  <td>El separador que se utiliza entre el <code>&lt;input&gt;</code> del checkbox/radio button y el título de la opción</td>
</tr>
<tr>
  <td><code>class</code></td>
  <td>El atributo <code>class</code> que se utiliza en la etiqueta <code>&lt;ul&gt;</code> principal</td>
</tr>
<tr>
  <td><code>separator</code></td>
  <td>El separador que se utiliza entre los <code>&lt;input&gt;</code> de cada checkbox/radio button</td>
</tr>
<tr>
  <td><code>formatter</code></td>
  <td>Código que se ejecuta para mostrar las opciones del checkbox. El código recibe como argumentos el widget y el array de etiquetas <code>&lt;input&gt;</code></td>
</tr>
<tr>
  <td><code>template</code></td>
  <td>La plantilla que se utiliza al agrupar las opciones (puede hacer uso de las variables <code>%group% y %options%</code>)</td>
</tr>
</tbody>
</table>
</div>


<div class="admonition note"><p><strong class="title">Nota</strong> El widget <code>sfWidgetFormChoiceMany</code> es en realidad un atajo del widget <code>sfWidgetFormChoice</code> con la opción <code>multiple</code> establecida automáticamente a <code>true</code>.</p></div>

<h3 id="representacion_mediante_una_lista_doble">12.4.4. Representación mediante una lista doble</h3>

<p>Cuando el usuario puede seleccionar varias opciones, normalmente es mejor mostrar las opciones seleccionadas en otra lista. El widget <code>sfWidgetFormSelectDoubleList</code> permite mostrar la selección de opciones en forma de lista doble:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>        <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'PHP'</span><span class="sy0">,</span> <span class="st_h">'symfony'</span><span class="sy0">,</span> <span class="st_h">'Doctrine'</span><span class="sy0">,</span> <span class="st_h">'Propel'</span><span class="sy0">,</span> <span class="st_h">'model'</span><span class="br0">&#41;</span><span class="sy0">,</span>
  <span class="st_h">'renderer_class'</span> <span class="sy0">=&gt;</span> <span class="st_h">'sfWidgetFormSelectDoubleList'</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="figure" id="figure_12_14">
    <img src="../../img/symfony_formularios/f1210.png" alt="Lista doble" />

    <p class="caption"><strong>Figura 12.14</strong> Lista doble</p>
</div>


<div class="admonition note"><p><strong class="title">Nota</strong> Este widget forma parte del plugin <code>sfFormExtraPlugin</code>.</p></div>

<div class="admonition note"><p><strong class="title">Nota</strong> Este widget requiere el uso de JavaScript para su funcionamiento. Si quieres obtener las rutas de los archivos JavaScript, puedes emplear el método <code>getJavaScripts()</code> del widget:</p>

<div class="code php">
<pre class="php"><span class="re0">$rutasArchivos</span> <span class="sy0">=</span> <span class="re0">$w</span><span class="sy0">-&gt;</span><span class="me1">getJavascripts</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p></p></div>

<div class="table" id="table_12_8">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>choices</code></td>
  <td>Array con los valores de las opciones (obligatorio)</td>
</tr>
<tr>
  <td><code>class</code></td>
  <td>El atributo <code>class</code> principal del widget</td>
</tr>
<tr>
  <td><code>class_select</code></td>
  <td>El atributo <code>class</code> que se utiliza en las dos etiquetas <code>&lt;select&gt;</code></td>
</tr>
<tr>
  <td><code>label_unassociated</code></td>
  <td>El título de las opciones no seleccionadas</td>
</tr>
<tr>
  <td><code>label_associated</code></td>
  <td>El título de las opciones seleccionadas</td>
</tr>
<tr>
  <td><code>unassociate</code></td>
  <td>El código HTML del enlace para deseleccionar una opción</td>
</tr>
<tr>
  <td><code>associate</code></td>
  <td>El código HTML del enlace para seleccionar una opción</td>
</tr>
<tr>
  <td><code>template</code></td>
  <td>El código HTML de la plantilla que se utiliza para mostrar el widget. Las variables disponibles en la plantilla son: <code>%label_associated%</code>, <code>%label_unassociated%</code>, <code>%associate%</code>, <code>%unassociate%</code>, <code>%associated%</code>, <code>%unassociated%</code>, <code>%class%</code></td>
</tr>
</tbody>
</table>
</div>


<h3 id="autocompletado">12.4.5. Autocompletado</h3>

<p>Cuando el usuario debe seleccionar un valor entre un gran número de opciones, crear una lista enorme con todas las opciones no es práctico. El widget <code>sfWidgetFormJQueryAutocompleter</code> soluciona este problema convirtiendo una etiqueta <code>&lt;input&gt;</code> simple en un elemento que autocompleta el texto escrito por el usuario.</p>

<div class="admonition note"><p><strong class="title">Nota</strong> Este widget es parte del plugin <code>sfFormExtraPlugin</code>. Como los archivos de las librerías JQuery y JQuery UI no se incluyen en <code>sfFormExtraPlugin</code>, debes instalarlos e incluirlos a mano.</p></div>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'choices'</span>          <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span>
  <span class="st_h">'renderer_class'</span>   <span class="sy0">=&gt;</span> <span class="st_h">'sfWidgetFormJQueryAutocompleter'</span><span class="sy0">,</span>
  <span class="st_h">'renderer_options'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span><span class="st_h">'url'</span> <span class="sy0">=&gt;</span> <span class="st_h">'/script_autocompletado'</span><span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="admonition note"><p><strong class="title">Nota</strong> Este widget requiere el uso de algunas hojas de estilos y archivos JavaScript para su funcionamiento. Los métodos <code>getJavaScripts()</code> y <code>getStylesheets()</code> permiten obtener las rutas de todos estos archivos.</p></div>

<p>La opción <code>url</code> es la URL a la que accede el widget para obtener la lista de sugerencias a partir del texto introducido por el usuario. Esta URL incluye dos parámetros:</p>

<ul>
<li><code>q</code>:     la cadena de texto escrita por el usuario</li>
<li><code>limit</code>: el máximo número de sugerencias que debe devolver el script</li>
</ul>

<p>La respuesta del script debe ser una representación JSON válida del array de opciones (puedes utilizar la función <code>json_encode()</code> de PHP para convertir un array al formato JSON).</p>

<div class="table" id="table_12_9">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>url</code></td>
  <td>La URL a la que se accede para obtener las opciones (obligatorio)</td>
</tr>
<tr>
  <td><code>config</code></td>
  <td>Array de JavaScript que configura el widget de autocompletado de JQuery</td>
</tr>
<tr>
  <td><code>value_callback</code></td>
  <td>Código que se ejecuta sobre cada valor antes de mostrarlo</td>
</tr>
</tbody>
</table>
</div>


<p>Si la lista de sugerencias está relacionada con un modelo de Propel, es decir, con una tabla de la base de datos, puedes utilizar el widget <code>sfWidgetFormPropelJQueryAutocompleter</code>, que está optimizado para búsquedas a partir de la clave primaria:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'renderer_class'</span>   <span class="sy0">=&gt;</span> <span class="st_h">'sfWidgetFormPropelJQueryAutocompleter'</span><span class="sy0">,</span>
  <span class="st_h">'renderer_options'</span> <span class="sy0">=&gt;</span> <span class="kw3">array</span><span class="br0">&#40;</span>
    <span class="st_h">'model'</span> <span class="sy0">=&gt;</span> <span class="st_h">'Articulo'</span><span class="sy0">,</span>
    <span class="st_h">'url'</span>   <span class="sy0">=&gt;</span> <span class="st_h">'/script_autocompletado'</span><span class="sy0">,</span>
  <span class="br0">&#41;</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<div class="table" id="table_12_10">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>model</code></td>
  <td>La clase del modelo (obligatoria)</td>
</tr>
<tr>
  <td><code>method</code></td>
  <td>El método que se utiliza para convertir el objeto en una cadena de texto (<code>__toString()</code> por defecto)</td>
</tr>
</tbody>
</table>
</div>


<h3 id="elecciones_asociadas_con_modelos_de_propel">12.4.6. Elecciones asociadas con modelos de Propel</h3>

<p>Si las opciones están relacionadas con un modelo de Propel (por ejemplo cuando el usuario puede cambiar una clave externa) puedes utilizar el widget <code>sfWidgetFormPropelChoice</code>:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormPropelChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'model'</span>     <span class="sy0">=&gt;</span> <span class="st_h">'Articulo'</span><span class="sy0">,</span>
  <span class="st_h">'add_empty'</span> <span class="sy0">=&gt;</span> <span class="kw4">false</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>El widget obtiene automáticamente las opciones (<code>choices</code>) a partir de la clase del modelo (<code>model</code>). Este widget se puede configurar mediante las siguientes opciones:</p>

<div class="table" id="table_12_11">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>model</code></td>
  <td>La clase del modelo Propel (obligatoria)</td>
</tr>
<tr>
  <td><code>add_empty</code></td>
  <td>Indica si se debe mostrar un primer elemento vacío en la lista (<code>false</code> por defecto) Si el valor no es de tipo booleano, se utiliza como texto de la opción</td>
</tr>
<tr>
  <td><code>method</code></td>
  <td>El método utilizado para mostrar el valor de los objetos (<code>__toString</code> por defecto)</td>
</tr>
<tr>
  <td><code>key_method</code></td>
  <td>El método utilizado para mostrar la clave de los objetos (<code>getPrimaryKey</code> por defecto)</td>
</tr>
<tr>
  <td><code>order_by</code></td>
  <td>Array compuesto por dos opciones: 1) La columna por la que se ordenan los resultados (debe indicarse con el formato <code>PhpName</code>) 2) Criterio de ordenación (<code>asc</code> o <code>desc</code>)</td>
</tr>
<tr>
  <td><code>criteria</code></td>
  <td>Objeto <code>Criteria</code> que se utiliza para obtener los objetos</td>
</tr>
<tr>
  <td><code>connection</code></td>
  <td>El nombre de la conexión Propel que se utiliza (<code>null</code> por defecto)</td>
</tr>
<tr>
  <td><code>multiple</code></td>
  <td><code>true</code> si la etiqueta <code>&lt;select&gt;</code> permite selecciones múltiples</td>
</tr>
<tr>
  <td><code>peer_method</code></td>
  <td>El método <em>peer</em> utilizado para obtener los objetos</td>
</tr>
</tbody>
</table>
</div>


<h3 id="elecciones_asociadas_con_modelos_de_doctrine">12.4.7. Elecciones asociadas con modelos de Doctrine</h3>

<p>Si las opciones están relacionadas con un modelo de Doctrine (por ejemplo cuando el usuario puede cambiar una clave externa) puedes utilizar el widget <code>sfWidgetFormDoctrineChoice</code>:</p>

<div class="code php">
<pre class="php"><span class="re0">$w</span> <span class="sy0">=</span> <span class="kw2">new</span> sfWidgetFormDoctrineChoice<span class="br0">&#40;</span><span class="kw3">array</span><span class="br0">&#40;</span>
  <span class="st_h">'model'</span>     <span class="sy0">=&gt;</span> <span class="st_h">'Articulo'</span><span class="sy0">,</span>
  <span class="st_h">'add_empty'</span> <span class="sy0">=&gt;</span> <span class="kw4">false</span><span class="sy0">,</span>
<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</div>

<p>El widget obtiene automáticamente las opciones (<code>choices</code>) a partir de la clase del modelo (<code>model</code>). Este widget se puede configurar mediante las siguientes opciones:</p>

<div class="table" id="table_12_12">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>model</code></td>
  <td>La clase del modelo (obligatoria)</td>
</tr>
<tr>
  <td><code>add_empty</code></td>
  <td>Indica si se debe mostrar un primer elemento vacío en la lista (<code>false</code> por defecto) Si el valor no es de tipo booleano, se utiliza como texto de la opción</td>
</tr>
<tr>
  <td><code>method</code></td>
  <td>El método utilizado para mostrar el valor de los objetos (<code>__toString</code> por defecto)</td>
</tr>
<tr>
  <td><code>key_method</code></td>
  <td>El método utilizado para mostrar la clave de los objetos (<code>getPrimaryKey</code> por defecto)</td>
</tr>
<tr>
  <td><code>order_by</code></td>
  <td>Array compuesto por dos opciones: 1) La columna por la que se ordenan los resultados (debe indicarse con el formato <code>PhpName</code>) 2) Criterio de ordenación (<code>asc</code> o <code>desc</code>)</td>
</tr>
<tr>
  <td><code>query</code></td>
  <td>Consulta que se utiliza para obtener los objetos</td>
</tr>
<tr>
  <td><code>connection</code></td>
  <td>El nombre de la conexión Doctrine que se utiliza (<code>null</code> por defecto)</td>
</tr>
<tr>
  <td><code>multiple</code></td>
  <td><code>true</code> si la etiqueta <code>&lt;select&gt;</code> permite selecciones múltiples</td>
</tr>
<tr>
  <td><code>table_method</code></td>
  <td>El método utilizado para obtener los objetos</td>
</tr>
</tbody>
</table>
</div>




    <div class="navigation row">
            <a class="span4 prev" href="widgets_de_tipo_input.html">&larr; Anterior <span>12.3. Widgets de tipo input</span></a>
            
            <a class="span5 next" href="widgets_para_fechas.html">Siguiente &rarr; <span>12.5. Widgets para fechas</span></a>
        </div>
</div>

<div class="span3 side">
<h3 class="underline"><span>Compartir</span></h3>
<ul class="share">
    <li><a class="twitter" id="share_twitter" href="#" title="Compartir este artículo en Twitter">tw</a></li>
    <li><a class="facebook" id="share_facebook" href="#" title="Compartir este artículo en Facebook">fb</a></li>
    <li><a class="google" id="share_google" href="#" title="Compartir este artículo en Google+">g+</a></li>
</ul>

<script type="text/javascript">
var title    = 'Widgets para elecciones (Los formularios de Symfony 1.4%29';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es&hashtags=librosweb',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) { // don't use services.keys() for compatibility reasons
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;
            _gaq.push(['_trackEvent', 'share', a.id.substr(6), 'Los formularios de Symfony 1.4 : Widgets para elecciones']);
            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

<h3 class="underline"><span>Indice de contenidos</span></h3>
<ul class="toc">
    <li class="level-1">
        <span>1</span> <a href="../capitulo_1.html"> Creación de formularios</a>
    </li>
    <li class="level-1">
        <span>2</span> <a href="../capitulo_2.html"> Validación de formularios</a>
    </li>
    <li class="level-1">
        <span>3</span> <a href="../capitulo_3.html"> Formularios para diseñadores web</a>
    </li>
    <li class="level-1">
        <span>4</span> <a href="../capitulo_4.html"> Integración con Propel</a>
    </li>
    <li class="level-1">
        <span>5</span> <a href="../capitulo_5.html"> Sin título</a>
    </li>
    <li class="level-1">
        <span>6</span> <a href="../capitulo_6.html"> Sin título</a>
    </li>
    <li class="level-1">
        <span>7</span> <a href="../capitulo_7.html"> Sin título</a>
    </li>
    <li class="level-1">
        <span>8</span> <a href="../capitulo_8.html"> Internacionalización y localización</a>
    </li>
    <li class="level-1">
        <span>9</span> <a href="../capitulo_9.html"> Sin título</a>
    </li>
    <li class="level-1">
        <span>10</span> <a href="../capitulo_10.html"> Sin título</a>
    </li>
    <li class="level-1">
        <span>11</span> <a href="../capitulo_11.html"> Integrando Doctrine</a>
    </li>
    <li class="level-1 ">
        <a href="../capitulo_12.html">
            <span>Capítulo 12.</span> Referencia de Widgets
        </a>
    </li>
    <li class="level-2 ">
        <a href="widgets.html">
            <span>12.2.</span> Widgets
        </a>
    </li>
    <li class="level-2 ">
        <a href="widgets_de_tipo_input.html">
            <span>12.3.</span> Widgets de tipo input
        </a>
    </li>
    <li class="level-2 active">
        <a href="widgets_para_elecciones.html">
            <span>12.4.</span> Widgets para elecciones
        </a>
    </li>
    <li class="level-2 ">
        <a href="widgets_para_fechas.html">
            <span>12.5.</span> Widgets para fechas
        </a>
    </li>
    <li class="level-2 ">
        <a href="widgets_de_internacionalizacion.html">
            <span>12.6.</span> Widgets de internacionalización
        </a>
    </li>
    <li class="level-2 ">
        <a href="widget_para_captcha.html">
            <span>12.7.</span> Widget para CAPTCHA
        </a>
    </li>
    <li class="level-2 ">
        <a href="widgets_para_filtros.html">
            <span>12.8.</span> Widgets para filtros
        </a>
    </li>
    <li class="level-2 ">
        <a href="sfwidgetformschema.html">
            <span>12.9.</span> sfWidgetFormSchema
        </a>
    </li>
    <li class="level-1">
        <span>13</span> <a href="../capitulo_13.html"> Validadores</a>
    </li>
</ul>
</div>
        </div></div>
        <div id="footer" class="row">
            <span class="span6">&copy; 2013 LibrosWeb.es 
            <a href="../../contacto/index.html">Contacto</a></span>
            <span class="span6 version">2.340 días online</span>
        </div>
    </div>
    </body>
</html>

<!-- Localized -->