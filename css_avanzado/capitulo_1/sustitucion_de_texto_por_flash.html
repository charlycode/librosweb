<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>1.8. Sustitución de texto por Flash (CSS avanzado)</title>
        <link href="../../css/main-fa23fb7.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-82842-2']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        <link rel="apple-touch-icon" type="image/png" href="../../apple-touch-icon.png" />
        <link rel="apple-touch-icon-precomposed" type="image/png" href="../../apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="LibrosWeb" />

        <link rel="shortcut icon" type="image/png" href="../../favicon.png" />
        <meta name="site:version" content="fa23fb7" />
        <link rel="author" href="https://plus.google.com/u/0/107307901774377088868" />
        <link rel="prev" href="sustitucion_de_texto_por_imagenes.html" />
        <link rel="next" href="esquinas_redondeadas.html" />
        <link rel="start" href="../index.html" />
        <meta name="twitter:site" content="@librosweb" />
        <link rel="search" type="application/opensearchdescription+xml" href="http://librosweb.es/opensearch/documentation.xml" title="Libros y tutoriales de LibrosWeb.es" />
        <meta property="fb:page_id" content="437758756273955" />
        <meta property="fb:app_id" content="437758756273955" />
        <meta property="og:type" content="website" />
        <meta property="og:title" content="1.8. Sustitución de texto por Flash (CSS avanzado)" />
        <meta property="og:image" content="http://www.gravatar.com/avatar/9f219b4dfaa677bfd0f47753c02d5126.png?s=200" />
        <meta name="msapplication-TileColor" content="#CC1414" />
        <meta name="application-name" content="LibrosWeb" />
        <meta name="msapplication-tooltip" content="Libros y tutoriales sobre HTML, CSS, JavaScript, PHP y otras tecnologías web." />
    </head>
    <body class="book_page css_avanzado">
    <div id="container" class="container">
        <div id="header">
            <h1><a href="../../index.html" title="LibrosWeb.es">LibrosWeb</a></h1>
            <form action="/buscar"><input type="text" placeholder="buscar..." name="q"/></form>
        </div>
        <div id="content"><div class="row">
        <ul class="breadcrumbs span12">
  <li><a href="../../index.html">Inicio</a></li>
  <li><a href="../index.html">CSS avanzado</a></li>
  <li><a href="../capitulo_1.html">Capítulo 1. Técnicas imprescindibles</a></li>
  <li class="current"><span>1.8.. Sustitución de texto por Flash</span></li>
</ul>

<div class="span9">
    <h1 id="sustitucion_de_texto_por_flash"><span>1.8.</span> Sustitución de texto por Flash</h1>
    

<p>Como se explica en la sección anterior, las soluciones basadas en CSS para sustituir el texto por imágenes presentan problemas técnicos no resueltos: los lectores de páginas pueden no leer el texto y los navegadores normales tienen problemas cuando no se pueden cargar las imágenes.</p>

<p>Además, estas soluciones basadas en CSS siempre tienen el inconveniente de que se deben crear todas las imágenes que sustituyen al texto. Si las imágenes se crean a mano, el proceso es tedioso y poco flexible. Si las imágenes se generan dinámicamente, la aplicación web puede sufrir una penalización apreciable en su rendimiento.</p>

<p>La solución definitiva de todos los problemas de las soluciones basadas en CSS es la <a href="http://www.mikeindustries.com/blog/sifr/">técnica sIFR</a> (*Scalable Inman Flash Replacement//), que combina CSS, JavaScript y Flash para mostrar correctamente cualquier texto con cualquier tipografía deseada.</p>

<p>La versión de sIFR recomendada para su uso en sitios web es la versión <a href="http://www.mikeindustries.com/blog/sifr/">sIFR 2</a>, ya que la versión <a href="http://wiki.novemberborn.net/sifr3">sIFR 3</a> todavía se encuentra en período de pruebas.</p>

<p>A continuación se muestran los pasos que hay que seguir para sustituir el texto con la técnica sIFR:</p>

<p>1) Descarga la última versión disponible de los archivos de sIFR. Actualmente, la versión estable es 2.0.7 y se puede descargar mediante el archivo comprimido <a href="http://www.mikeindustries.com/blog/files/sifr/2.0/sIFR-2.0.7.zip">sIFR2.0.7.zip</a>. Descomprime este archivo en cualquier carpeta del sistema.</p>

<p>2) El segundo paso consiste en crear un archivo Flash que incluya la fuente que se va a utilizar en la sustitución. Abre el archivo <code>sifr.fla</code> con un editor de archivos de tipo Flash (como por ejemplo el programa <a href="http://www.adobe.com/es/products/flash/">Flash Professional</a>). Si no dispones de ningún editor de archivos Flash, más adelante se muestran varias herramientas y utilidades alternativas.</p>

<p>Cuando se abre el archivo <code>sifr.fla</code>, sólo se ve un rectángulo blanco. Pincha dos veces sobre ese rectángulo de forma que se muestre un texto. Selecciona el texto, modifica su fuente por la tipografía que quieres utilizar en el diseño de tu página y guarda los cambios.</p>

<p>Si el texto que vas a sustituir contiene caracteres <em>especiales</em> o caracteres propios de algunos idiomas, debes añadir todos esos caracteres mediante la paleta de <code>Propiedades</code> del texto.</p>

<p>3) Exporta el archivo Flash mediante la opción <code>File</code> > <code>Export</code> > <code>Export Movie</code> (o <code>Archivo</code> > <code>Exportar</code>). Una buena recomendación consiste en guardar el archivo con el mismo nombre del tipo de letra que incluye (<code>arial.swf</code>, <code>verdana.swf</code>, etc.). Una vez creado el archivo, guárdalo en un directorio del servidor en el que guardes todas las fuentes de sIFR (puedes llamar a este directorio <code>fuentes/</code> por ejemplo).</p>

<p>4) sIFR necesita varios archivos CSS y JavaScript para funcionar. Copia el archivo <code>sifr.js</code> en la carpeta de archivos JavaScript de tu servidor web (normalmente este directorio se llama <code>js/</code>). Copia los archivos CSS <code>sIFR-screen.css</code> y <code>sIFR-print.css</code> en la carpeta de archivos CSS de tu servidor web (normalmente este directorio se llama <code>css/</code>).</p>

<p>5) Todas las páginas en las que se sustituye el texto por Flash deben incluir los archivos JavaScript y CSS. Para ello, añade lo siguiente dentro de la sección <code>&lt;head&gt;</code> de la página:</p>

<div class="code html">
<pre class="html5"><span class="sc2">&lt;<span class="kw2">head</span>&gt;</span>
  ...
  <span class="sc2">&lt;<span class="kw2">script</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">&quot;js/sifr.js&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/javascript&quot;</span>&gt;&lt;<span class="sy0">/</span><span class="kw2">script</span>&gt;</span>
  ...
  <span class="sc2">&lt;<span class="kw2">link</span> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;css/sIFR-screen.css&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">media</span><span class="sy0">=</span><span class="st0">&quot;screen&quot;</span> <span class="sy0">/</span>&gt;</span>
  <span class="sc2">&lt;<span class="kw2">link</span> <span class="kw3">rel</span><span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">&quot;css/sIFR-print.css&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span> <span class="kw3">media</span><span class="sy0">=</span><span class="st0">&quot;print&quot;</span> <span class="sy0">/</span>&gt;</span>
  ...
<span class="sc2">&lt;<span class="sy0">/</span><span class="kw2">head</span>&gt;</span></pre>
</div>

<p>El valor de los atributos <code>src</code> y <code>href</code> debe contener la ruta completa (absoluta o relativa) hasta los archivos JavaScript y CSS respectivamente.</p>

<p>También es posible añadir las reglas de los archivos CSS de sIFR en los archivos CSS propios de la página y así no tener que enlazar otros dos archivos CSS en cada página.</p>

<p>6) A partir de este momento ya es posible sustituir cualquier texto por Flash utilizando instrucciones JavaScript sencillas. A continuación se muestra el código JavaScript necesario para mostrar todos los titulares de la página con una tipografía propia:</p>

<div class="code javascript">
<pre class="javascript"><span class="kw1">if</span><span class="br0">&#40;</span><span class="kw1">typeof</span> sIFR <span class="sy0">==</span> <span class="st0">&quot;function&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
  sIFR.<span class="me1">replaceElement</span><span class="br0">&#40;</span><span class="st0">&quot;h1&quot;</span><span class="sy0">,</span> named<span class="br0">&#40;</span><span class="br0">&#123;</span>sFlashSrc<span class="sy0">:</span> <span class="st0">&quot;../fuentes/mifuente.swf&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre>
</div>

<p>El código JavaSript anterior lo puedes colocar en cualquier parte de la página. Algunos diseñadores prefieren colocarlo en la sección <code>&lt;head&gt;</code> donde se encuentran el resto de elementos de sIFR y otros diseñadores prefieren colocarlo justo antes de la etiqueta <code>&lt;/body&gt;</code> de cierre de la página.</p>

<p>La sustitución requiere que en la función <code>replaceElement()</code> se indique el selector CSS de los elementos que se van a sustituir y una serie de opciones que se deben tener en cuenta en la sustitución. La única opción obligatoria se denomina <code>sFlashSrc</code> e indica la ruta completa hasta el archivo <code>.swf</code> que contiene la tipografía deseada.</p>

<p>A continuación se muestra una tabla con todas las propiedades de sFIR:</p>

<div class="table" id="table_1_8">

    <table>
<thead>
<tr>
  <th>Opción</th>
  <th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>sSelector</code></td>
  <td>El selector del elemento o elementos que se quieren reemplazar. Se puede indicar mediante esta opción o como primer argumento de la función <code>replaceElement()</code>. Se pueden indicar varios selectores separándolos por comas. Los selectores soportados son los de etiqueta, clase, id y el selector de hijos.</td>
</tr>
<tr>
  <td><code>sFlashSrc</code></td>
  <td>Ruta completa hasta el archivo <code>.swf</code> que contiene la fuente utilizada. Si indicas la ruta de forma relativa, el origen es la propia página HTML.</td>
</tr>
<tr>
  <td><code>sColor</code></td>
  <td>Color del texto indicado en formato hexadecimal, como por ejemplo <code>#000000</code> o <code>#CC0000</code></td>
</tr>
<tr>
  <td><code>sLinkColor</code></td>
  <td>Color de los enlaces que puede contener el texto</td>
</tr>
<tr>
  <td><code>sHoverColor</code></td>
  <td>Color del estado <code>:hover</code> de los enlaces que puede contener el texto</td>
</tr>
<tr>
  <td><code>sBgColor</code></td>
  <td>Color de fondo del texto indicado en formato hexadecimal</td>
</tr>
<tr>
  <td><code>nPaddingTop</code> <code>nPaddingRight</code> <code>nPaddingBottom</code> <code>nPaddingLeft</code></td>
  <td>Relleno superior, izquierdo, inferior e izquierdo del texto</td>
</tr>
<tr>
  <td><code>sCase</code></td>
  <td>Transformación del texto. El valor <code>upper</code> transforma el texto a mayúsculas; el valor <code>lower</code> lo transforma a minúsculas</td>
</tr>
<tr>
  <td><code>sWmode</code></td>
  <td>Esta opción causa problemas en algunas versiones de algunos navegadores, por lo que no se recomienda su uso. Si se le asigna el valor <code>transparent</code>, el Flash que sustituye al texto tiene un fondo transparente. Si se emplea el valor <code>opaque</code>, el Flash tiene un color de fondo sólido.</td>
</tr>
<tr>
  <td><code>sFlashVars</code></td>
  <td>Variables adicionales que pueden modificar el aspecto del texto sustituido. <code>textalign=center</code> centra el texto de forma horizontal. <code>offsetleft=5</code> desplaza el texto hacia la derecha los píxeles indicados por el número. <code>offsetTop=5</code> desplaza el texto hacia abajo los píxeles indicados por el número. <code>underline=true</code> muestra los enlaces subrayados en el estado <code>:hover</code></td>
</tr>
</tbody>
</table>
</div>


<p>El siguiente ejemplo muestra los titulares de sección <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code> y <code>&lt;h3&gt;</code> con el mismo tipo de letra y color negro, mientras que sus posibles enlaces se muestran de color azul que cambia a rojo cuando se pasa el ratón por encima del texto:</p>

<div class="code javascript">
<pre class="javascript"><span class="kw1">if</span><span class="br0">&#40;</span><span class="kw1">typeof</span> sIFR <span class="sy0">==</span> <span class="st0">&quot;function&quot;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
  sIFR.<span class="me1">replaceElement</span><span class="br0">&#40;</span><span class="st0">&quot;h1, h2, h3&quot;</span><span class="sy0">,</span> named<span class="br0">&#40;</span><span class="br0">&#123;</span>sFlashSrc<span class="sy0">:</span> <span class="st0">&quot;./sifr/vandenkeere.swf&quot;</span><span class="sy0">,</span> sColor<span class="sy0">:</span> <span class="st0">&quot;#000&quot;</span><span class="sy0">,</span> sLinkColor<span class="sy0">:</span> <span class="st0">&quot;#336699&quot;</span><span class="sy0">,</span> sHoverColor<span class="sy0">:</span> <span class="st0">&quot;#CC0000&quot;</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre>
</div>

<p>Crear el archivo <code>.swf</code> con la fuente que se quiere mostrar es lo más costoso de la técnica sIFR. Además de ser un proceso manual, es necesario disponer de un editor de archivos Flash. Afortunadamente, debido a la popularidad de sIFR, se han publicado numerosas herramientas para crear los archivos <code>.swf</code> necesarios:</p>

<ul>
<li><a href="http://www.sifrgenerator.com/wizard.html">sIFR Generator</a>: aplicación web que genera de forma rápida y sencilla el archivo <code>.swf</code> a partir de una fuente de tipo TrueType (extensión <code>.ttf</code>).</li>
<li><a href="http://digitalretrograde.com/Projects/sifrFontEmbedder/">sIFR Font Embedder</a>: aplicación de escritorio que genera el archivo <code>.swf</code> a partir de la fuente seleccionada. Permite añadir fácilmente todos los caracteres especiales deseados. Requiere el uso de un programa externo llamado <code>swfmill</code> y del framework .NET versión 2.0.</li>
<li><a href="http://www.tecnorama.org/document.php?id_doc=70">Extensión para integrar sIFR en DreamWeaver</a>: extensión para el conocido entorno de desarrollo de sitios web Dreamweaver. Permite configurar todas las opciones de sIFR de forma visual y crea automáticamente los enlaces a los archivos CSS y JavaScript necesarios.</li>
</ul>

<p>El principal problema de sIFR 2 es que emplea un algoritmo demasiado simple para determinar el tamaño con el que debe mostrar la letra del texto que sustituye. El algoritmo consiste en obtener la anchura y altura del elemento sustituido y después probar diferentes tamaños de texto hasta que se encuentra el que mejor encaja en el sitio disponible.</p>

<p>Debido a este algoritmo tan simple, las fuentes sustituidas por sIFR 2 pueden ser demasiado anchas o demasiado pequeñas comparadas con las originales. Como no existe ninguna opción para establecer de forma explícita el tamaño de letra del texto sustituido, los autores de sIFR 2 sugieren modificar las propiedades <code>letter-spacing</code> y <code>font-size</code> del texto sustituido. La futura versión sIFR 3 utiliza un <a href="http://novemberborn.net/sifr3/font-sizing">algoritmo mucho más avanzado</a> que permitirá un control preciso del tamaño de letra.</p>



    <div class="navigation row">
            <a class="span4 prev" href="sustitucion_de_texto_por_imagenes.html">&larr; Anterior <span>1.7. Sustitución de texto por imágenes</span></a>
            
            <a class="span5 next" href="esquinas_redondeadas.html">Siguiente &rarr; <span>1.9. Esquinas redondeadas</span></a>
        </div>
</div>

<div class="span3 side">
<h3 class="underline"><span>Compartir</span></h3>
<ul class="share">
    <li><a class="twitter" id="share_twitter" href="#" title="Compartir este artículo en Twitter">tw</a></li>
    <li><a class="facebook" id="share_facebook" href="#" title="Compartir este artículo en Facebook">fb</a></li>
    <li><a class="google" id="share_google" href="#" title="Compartir este artículo en Google+">g+</a></li>
</ul>

<script type="text/javascript">
var title    = 'Sustitución de texto por Flash (CSS avanzado%29';
var page_url = encodeURIComponent(window.location);
var options  = 'menubar=no,toolbar=no,resizable=yes,scrollbars=no,width=640,height=350';
var services = {
    share_twitter:  'https://twitter.com/share?text=' + title + '&lang=es&hashtags=librosweb',
    share_facebook: 'http://www.facebook.com/sharer.php?u=' + page_url + '&t=' + title,
    share_google:   'https://plus.google.com/share?url=' + page_url + '&hl=es'
};

for (var id in services) { // don't use services.keys() for compatibility reasons
    if (services.hasOwnProperty(id)) {
        document.getElementById(id).href = services[id];
        document.getElementById(id).onclick = function(a) {
            a = a || window.event;
            a = a.target || a.srcElement;
            _gaq.push(['_trackEvent', 'share', a.id.substr(6), 'CSS avanzado : Sustitución de texto por Flash']);
            window.open(services[a.id], a.title, options);

            return false;
        };
    }
}
</script>

<h3 class="underline"><span>Indice de contenidos</span></h3>
<ul class="toc">
    <li class="level-1 ">
        <a href="../capitulo_1.html">
            <span>Capítulo 1.</span> Técnicas imprescindibles
        </a>
    </li>
    <li class="level-2 ">
        <a href="propiedades_shorthand.html">
            <span>1.1.</span> Propiedades shorthand
        </a>
    </li>
    <li class="level-2 ">
        <a href="la_propiedad_haslayout_de_internet_explorer.html">
            <span>1.2.</span> La propiedad hasLayout de Internet Explorer
        </a>
    </li>
    <li class="level-2 ">
        <a href="limpiar_floats.html">
            <span>1.3.</span> Limpiar floats
        </a>
    </li>
    <li class="level-2 ">
        <a href="elementos_de_la_misma_altura.html">
            <span>1.4.</span> Elementos de la misma altura
        </a>
    </li>
    <li class="level-2 ">
        <a href="sombras.html">
            <span>1.5.</span> Sombras
        </a>
    </li>
    <li class="level-2 ">
        <a href="transparencias.html">
            <span>1.6.</span> Transparencias
        </a>
    </li>
    <li class="level-2 ">
        <a href="sustitucion_de_texto_por_imagenes.html">
            <span>1.7.</span> Sustitución de texto por imágenes
        </a>
    </li>
    <li class="level-2 active">
        <a href="sustitucion_de_texto_por_flash.html">
            <span>1.8.</span> Sustitución de texto por Flash
        </a>
    </li>
    <li class="level-2 ">
        <a href="esquinas_redondeadas.html">
            <span>1.9.</span> Esquinas redondeadas
        </a>
    </li>
    <li class="level-2 ">
        <a href="rollovers_y_sprites.html">
            <span>1.10.</span> Rollovers y sprites
        </a>
    </li>
    <li class="level-2 ">
        <a href="texto.html">
            <span>1.11.</span> Texto
        </a>
    </li>
    <li class="level-1">
        <span>2</span> <a href="../capitulo_2.html"> Buenas prácticas</a>
    </li>
    <li class="level-1">
        <span>3</span> <a href="../capitulo_3.html"> Selectores</a>
    </li>
    <li class="level-1">
        <span>4</span> <a href="../capitulo_4.html"> Propiedades avanzadas</a>
    </li>
    <li class="level-1">
        <span>5</span> <a href="../capitulo_5.html"> Frameworks</a>
    </li>
    <li class="level-1">
        <span>6</span> <a href="../capitulo_6.html"> Técnicas avanzadas</a>
    </li>
</ul>
</div>
        </div></div>
        <div id="footer" class="row">
            <span class="span6">&copy; 2013 LibrosWeb.es 
            <a href="../../contacto/index.html">Contacto</a></span>
            <span class="span6 version">2.340 días online</span>
        </div>
    </div>
    </body>
</html>

<!-- Localized -->